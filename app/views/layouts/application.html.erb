<!DOCTYPE html>
<html>
  <head>
    <title>Knora</title>
    <meta name="google-signin-client_id" content="410414924194-p01fmqs2gn56sgg4af6alb20mu3hojs3.apps.googleusercontent.com">
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <%# <script src="https://apis.google.com/js/api:client.js?onload=start" async defer></script>
    <script>
      function start() {
        gapi.load('auth2', function() {
          auth2 = gapi.auth2.init({
              client_id: '410414924194-p01fmqs2gn56sgg4af6alb20mu3hojs3.apps.googleusercontent.com',
              cookiepolicy: 'single_host_origin'
          });
        });
      }
    </script> %>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag    'application', media: 'all' %>
    <%= javascript_include_tag 'application' %>
    <% if current_user %>
    <script>
      window.currentUser = {
        id: "<%= current_user.id %>",
        firstname: "<%= current_user.firstname %>",
        lastname: "<%= current_user.lastname %>",
        email: "<%= current_user.email %>",
        signin_method: "<%= session[:signin_method] %>"
      }
    </script>
    <% end %>
  </head>

  <body>
    <%= yield %>
  </body>
</html>
